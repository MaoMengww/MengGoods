![log](./docs/image/main.png)       

### ğŸ› ï¸æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**ï¼šKitex ã€Hertz 
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šKafkaã€RabbitMQ
- **å®‰å…¨é‰´æƒ**ï¼šJWT
- **é…ç½®ç®¡ç†**ï¼šViper
- **æ—¥å¿—æœåŠ¡**:  Elasticsearchï¼ˆåŒæ—¶ç”¨äºæœç´¢åŠŸèƒ½çš„å®ç°ï¼‰ã€Filebeatã€Kibanaã€Zap
- **æ•°æ®åº“**ï¼šMySQLã€Redisã€GORM
- **å¯è§‚æµ‹æ€§**ï¼šPrometheusã€Grafanaã€Jaegerã€OpenTelemetry
- **å¯¹è±¡å‚¨å­˜**ï¼šè…¾è®¯äº‘COS
- **æœåŠ¡æ³¨å†Œä¸å‘ç°**ï¼šEtcd
- **é™æµ**ï¼šsentinel-golang
- **other**ï¼šluaã€å¸ƒéš†è¿‡æ»¤å™¨ã€docker-composeã€dockerfileã€singleflightã€Snowflake


### ğŸš€ å¿«é€Ÿå¼€å§‹
```
1ã€å…‹éš†æœ¬é¡¹ç›®
2ã€å¡«å†™config.yamlæ–‡ä»¶
3ã€docker-compose up -d
4ã€æ ¹æ®config/sqlæ–‡ä»¶åˆ›å»ºè¡¨æ ¼
5ã€make start_all
```


### âœ¨ä¼˜ç‚¹

- ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨è§£å†³ç¼“å†²ç©¿é€ã€ä½¿ç”¨singleflightè§£å†³ç¼“å­˜å‡»ç©¿ã€ä½¿ç”¨æ·»åŠ éšæœºåç§»é‡ä»¥åŠé™æµè§£å†³ç¼“å­˜é›ªå´©
- é‡‡ç”¨æœ¬åœ°æ¶ˆæ¯è¡¨æ¨¡å¼å®ç°åˆ†å¸ƒå¼äº‹åŠ¡çš„æœ€ç»ˆä¸€è‡´æ€§
- OpenTelemetry + EFK å®ç°å¯è§‚æµ‹æ€§å’Œæ—¥å¿—æœç´¢, å‡å°‘é—®é¢˜æ’æŸ¥éš¾åº¦
- ä½¿ç”¨redis luaè„šæœ¬é˜²æ­¢è¶…å–å’Œé«˜å¹¶å‘æŸ¥å†™ä¸€è‡´
- ä½¿ç”¨kafkaè§£å†³å¤§æ•°æ®é«˜ååçš„æ•°æ®æµã€ä½¿ç”¨rabbitMqè§£å†³ä¾‹å¦‚è®¢å•ç­‰å»¶æ—¶ä»»åŠ¡
- é‡‡ç”¨æ•´æ´æ¶æ„å¯¹æœåŠ¡è¿›è¡Œæ·±åº¦è§£è€¦
- ä½¿ç”¨é›ªèŠ±ç®—æ³•å®ç°åˆ†å¸ƒå¼å”¯ä¸€ID


      

### â›ï¸æ¶æ„å›¾

![architecture](./docs/image/architecture.png)

### ğŸ“–æ¥å£æ–‡æ¡£

[æ¥å£æ–‡æ¡£](https://4721v9dymm.apifox.cn)


            

### ğŸ“Œå•æœåŠ¡æ¶æ„ï¼ˆæ•´æ´æ¶æ„ï¼‰

ä½¿ç”¨æ¥å£ä½¿ä¾èµ–å€’ç½®ï¼Œ è€¦åˆåº¦ä½ï¼ˆå¦‚æ›´æ¢æ¶ˆæ¯é˜Ÿåˆ—åªéœ€é‡å†™infrastructureé‡Œçš„æ–¹æ³•ï¼‰

```
app
â””â”€  coupon
   â”œâ”€ controller
   â”‚  â””â”€ api
   â”‚     â”œâ”€ handler.go
   â”‚     â””â”€ pack
   â”œâ”€ domain
   â”‚  â”œâ”€ model
   â”‚  â”œâ”€ repository
   â”‚  â””â”€ service
   â”œâ”€ infrastructure
   â”‚  â”œâ”€ cache
   â”‚  â”œâ”€ mq
   â”‚  â””â”€ mysql
   â”œâ”€ inject.go
   â””â”€ usecase
```


